<?xml version="1.0" encoding="euc-kr"?>
<project name="makeReport" default="mccabe.download">
    <property name="mccabe.helper.jar" value="/usr/mccabe/helper/MccabeHelper-1.1-SNAPSHOT.jar"/>
    <property name="mccabe.property" value="/usr/mccabe/helper/mccabe.properties" />
    <property file="${mccabe.property}" />

    <target name="mccabe.download">
        <java jar="${mccabe.helper.jar}" fork="true">
            <arg line="${mccabe.property} sftp"/>
        </java>
    </target>

    <target name="mccabe.build.report">
        <propertyfile file="${mccabe.property}">
            <entry key="subjobs" value="[src/main/java/com/testmine, src/main/java/com/mccabe]"/>
            <entry key="selected" value="[&quot;src_main_java_com_mccabe&quot;]"/>
        </propertyfile>
        <java jar="${mccabe.helper.jar}" fork="true">
            <arg line="${mccabe.property} report"/>
        </java>
        <antcall target="mccabe.addedPackageName"/>
        <antcall target="mccabe.insertDB"/>
        <!-- <delete file="${WORK_HOME}/projects/${programName}/fileList.json"/> -->
    </target>

    <target name="mccabe.addedPackageName">
        <java jar="${mccabe.helper.jar}" fork="true">
            <arg line="${mccabe.property} PackageAdd"/>
        </java>
        <propertyfile file="${mccabe.property}">
            <entry key="subjobs" value=""/>
            <entry key="selected" value=""/>
        </propertyfile>
    </target>

    <target name="mccabe.insertDB">
        <java jar="${mccabe.helper.jar}" fork="true">
            <arg line="${mccabe.property} insertDB"/>
        </java>
        <propertyfile file="${mccabe.property}">
            <entry key="subjobs" value=""/>
            <entry key="selected" value=""/>
        </propertyfile>
    </target>
</project>
